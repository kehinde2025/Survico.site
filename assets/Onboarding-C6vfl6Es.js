import{r as p,j as e,u as g}from"./index-BnNZ3P73.js";import{a as b}from"./index-Dq7h7Pqt.js";function j({nextStep:c,data:s,updateForm:n}){const[r,t]=p.useState({fullName:s.fullName||"",dob:s.dob||"",gender:s.gender||"",maritalStatus:s.maritalStatus||""}),o=d=>{t({...r,[d.target.name]:d.target.value})},a=()=>{n(r),c()};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",name:"fullName",value:r.fullName,onChange:o,placeholder:"Full Name",className:"w-full px-4 py-2 border rounded",required:!0}),e.jsx("input",{type:"date",name:"dob",value:r.dob,onChange:o,className:"w-full px-4 py-2 border rounded",required:!0}),e.jsxs("select",{name:"gender",value:r.gender,onChange:o,className:"w-full px-4 py-2 border rounded",required:!0,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Female"}),e.jsx("option",{children:"Other"})]}),e.jsxs("select",{name:"maritalStatus",value:r.maritalStatus,onChange:o,className:"w-full px-4 py-2 border rounded",required:!0,children:[e.jsx("option",{value:"",children:"Marital Status"}),e.jsx("option",{children:"Single"}),e.jsx("option",{children:"Married"}),e.jsx("option",{children:"Divorced"})]}),e.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Next"})]})}function y({nextStep:c,prevStep:s,data:n,updateForm:r}){const[t,o]=p.useState({country:n.country||"",state:n.state||"",city:n.city||"",zip:n.zip||""}),a=i=>{o({...t,[i.target.name]:i.target.value})},d=()=>{r(t),c()};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",name:"country",value:t.country,onChange:a,placeholder:"Country",className:"w-full px-4 py-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"state",value:t.state,onChange:a,placeholder:"State",className:"w-full px-4 py-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"city",value:t.city,onChange:a,placeholder:"City",className:"w-full px-4 py-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"zip",value:t.zip,onChange:a,placeholder:"Postal Code",className:"w-full px-4 py-2 border rounded"}),e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx("button",{onClick:s,className:"bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300 transition",children:"Back"}),e.jsx("button",{onClick:d,className:"bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 transition",children:"Next"})]})]})}function v({nextStep:c,prevStep:s,data:n,updateForm:r}){const[t,o]=p.useState({jobTitle:n.jobTitle||"",education:n.education||"",income:n.income||""}),a=i=>{o({...t,[i.target.name]:i.target.value})},d=()=>{r(t),c()};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",name:"jobTitle",value:t.jobTitle,onChange:a,placeholder:"Your Job Title",className:"w-full px-4 py-2 border rounded",required:!0}),e.jsxs("select",{name:"education",value:t.education,onChange:a,className:"w-full px-4 py-2 border rounded",required:!0,children:[e.jsx("option",{value:"",children:"Highest Education Level"}),e.jsx("option",{children:"Primary"}),e.jsx("option",{children:"Secondary"}),e.jsx("option",{children:"Diploma"}),e.jsx("option",{children:"Undergraduate"}),e.jsx("option",{children:"Postgraduate"})]}),e.jsxs("select",{name:"income",value:t.income,onChange:a,className:"w-full px-4 py-2 border rounded",required:!0,children:[e.jsx("option",{value:"",children:"Monthly Income (USD)"}),e.jsx("option",{value:"0-100",children:"$0 – $100"}),e.jsx("option",{value:"100-500",children:"$100 – $500"}),e.jsx("option",{value:"500-1000",children:"$500 – $1,000"}),e.jsx("option",{value:"1000+",children:"$1,000+"})]}),e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx("button",{onClick:s,className:"bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300 transition",children:"Back"}),e.jsx("button",{onClick:d,className:"bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 transition",children:"Next"})]})]})}function N({prevStep:c,data:s,updateForm:n}){const r=g(),[t,o]=p.useState({interests:s.interests||[],device:s.device||""}),a=["Gaming","Shopping","Travel","Finance","Fitness","Entertainment","Technology","Crypto","Education"],d=l=>{o(u=>{const h=u.interests.includes(l)?u.interests.filter(m=>m!==l):[...u.interests,l];return{...u,interests:h}})},i=l=>{o({...t,[l.target.name]:l.target.value})},x=async()=>{n(t);const l={...s,...t};console.log("✅ Final onboarding data:",l);try{const u=localStorage.getItem("token"),h=await b.post("http://localhost:5000/api/auth/complete-profile",l,{headers:{Authorization:`Bearer ${u}`}});console.log("✅ Backend onboarding complete:",h.data),localStorage.setItem("onboardingComplete","true"),r("/dashboard")}catch(u){console.error("❌ Onboarding save error:",u)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"What are your interests?"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(l=>e.jsx("button",{type:"button",onClick:()=>d(l),className:`border rounded px-3 py-1 text-sm ${t.interests.includes(l)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:l},l))}),e.jsx("label",{className:"block text-sm text-gray-600 pt-4",children:"Device you use most"}),e.jsxs("select",{name:"device",value:t.device,onChange:i,className:"w-full px-4 py-2 border rounded",required:!0,children:[e.jsx("option",{value:"",children:"Select device"}),e.jsx("option",{children:"Android"}),e.jsx("option",{children:"iPhone"}),e.jsx("option",{children:"Windows PC"}),e.jsx("option",{children:"Mac"}),e.jsx("option",{children:"Tablet"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{onClick:c,className:"bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300 transition",children:"Back"}),e.jsx("button",{onClick:x,className:"bg-green-600 text-white py-2 px-6 rounded hover:bg-green-700 transition",children:"Finish"})]})]})}function S(){const[c,s]=p.useState(1),[n,r]=p.useState({fullName:"",dob:"",gender:"",maritalStatus:"",country:"",state:"",city:"",zip:"",jobTitle:"",education:"",income:"",interests:[],device:""}),t=()=>s(i=>i+1),o=()=>s(i=>i-1),a=i=>{r(x=>({...x,...i}))},d={1:e.jsx(j,{nextStep:t,data:n,updateForm:a}),2:e.jsx(y,{nextStep:t,prevStep:o,data:n,updateForm:a}),3:e.jsx(v,{nextStep:t,prevStep:o,data:n,updateForm:a}),4:e.jsx(N,{prevStep:o,data:n,updateForm:a})};return e.jsx("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center px-4 py-8",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-xl space-y-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-center text-blue-700",children:["📋 Profile Setup (",c,"/4)"]}),d[c]]})})}export{S as default};
